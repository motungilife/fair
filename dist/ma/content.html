<div x-data="handleContent()"><div class="content-card"><h2 class="card-title">사전 등록</h2><p class="card-text">처음 박람회 가시는 83%가 놓치고 있던 사실!<br>사전 등록, 일정만 알면 놓치지 않습니다.!<br>지금 바로 확인하고 혜택 놓치지 마세요!</p><span class="card-icon">🎁️</span></div><h2 class="section-title"id="aros1">사전 등록 임박, 지금 바로 신청!</h2><div class="support-grid"><template x-for="row in preUrls":key="row.eventName"><a class="support-card":class="getClsColor('blue')":href="row.blogUrl"><div class="support-title"x-text="row.eventName"></div><div class="support-subtitle"x-text="row.admissionFee"></div><div class="support-icon"x-text="getTimeEmoji()"></div></a></template></div><div></div><h2 class="section-title">다른 행사 일정이 궁금하시다면!</h2><div class="support-grid"><template x-for="row in monthUrls":key="row.month"><a class="support-card":class="getClsColor('green')":href="row.moonthUrl"><div class="support-title"><span x-text="row.month"></span>월</div><div class="support-subtitle"x-text="row.events"></div><div class="support-icon"x-text="getMonthEmoji(row.month)"></div></a></template></div><h2 class="section-title"id="aros2">다른 지역 행사도 확인해보세요!</h2><div class="support-grid"><template x-for="row in regionUrls":key="row.region"><a class="support-card":class="getClsColor('purple')":href="row.regionUrl"><div class="support-title"x-text="row.region"></div><div class="support-subtitle"x-text="row.events"></div><div class="support-icon"x-text="getRegionEmoji(row.region)"></div></a></template></div><h2 class="section-title"id="aros3">가까운 전시장 찾아보세요!</h2><div class="support-grid"><template x-for="row in venueUrls":key="row.venue"><a class="support-card":class="getClsColor('gold')":href="row.venueUrl"><div class="support-title"x-text="row.venue"></div><div class="support-subtitle"x-text="row.events"></div><div class="support-icon"x-text="getVenueEmoji(row.venue)"></div></a></template></div></div><script>function handleContent(){return{blogUrls:[],preUrls:[],monthUrls:[],regionUrls:[],venueUrls:[],async init(){const t=await fetch("https://motungilife.github.io/fair/dist/ma/blog_urls.json");this.blogUrls=await t.json(),this.preUrls=this.blogUrls.filter((t=>{const e=dayjs(),s=dayjs(""+t.preregEndDate);return e.isBefore(s)&&e.startOf("month").isBefore(s)&&e.endOf("month").add(15,"day").isAfter(s)})),this.preUrls=this.preUrls.map((t=>{const e=dayjs(),s=dayjs(""+t.preregEndDate);s.diff(e,"day");return{...t,admissionFee:`사전 등록 마감일 : ${s.format("YYYY.MM.DD")}`}}));const e=await fetch("https://motungilife.github.io/fair/dist/ma/month_urls.json"),s=(new Date).getMonth()+1;this.monthUrls=(await e.json()).filter((t=>t.month>=s)).map((t=>({...t,events:this.blogUrls.filter((e=>t.month===Number(dayjs(""+e.scheduleStartDate).format("M")))).map((t=>t.eventName)).join(", ")}))).filter((t=>t.events.trim().length>0));const i=await fetch("https://motungilife.github.io/fair/dist/ma/region_urls.json");this.regionUrls=(await i.json()).map((t=>({...t,events:this.blogUrls.filter((e=>t.region===e.eventRegion)).map((t=>t.eventName)).join(", ")}))).filter((t=>t.events.trim().length>0));const n=await fetch("https://motungilife.github.io/fair/dist/ma/venue_urls.json");this.venueUrls=(await n.json()).map((t=>({...t,events:this.blogUrls.filter((e=>t.venue===e.eventVenue)).map((t=>t.eventName)).join(", ")}))).filter((t=>t.events.trim().length>0))}}}</script>